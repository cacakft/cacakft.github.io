<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cacacrosoft Kft.</title>

<style>
  body {
    margin: 0;
    font-family: Arial, Helvetica, sans-serif;
    background-image: url('arizona-9839880.jpg');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    background-color: #333;
    color: white;
    text-shadow: 1px 1px 5px black;
  }

  .topnav {
    display: flex;
    background-color: #333;
    overflow: visible;
    z-index: 100;
    position: relative;
  }

  .topnav a {
    padding: 14px 16px;
    text-decoration: none;
    color: white; /* √ÅT√çRVA: K√©kr≈ël feh√©rre */
    font-size: 17px;
    cursor: pointer;
    display: inline-block;
  }

  /* Akt√≠v √°llapotban √©s hovern√©l megmarad a k√©k/sz√ºrke diz√°jn */
  .topnav a.active { background-color: #312abd; color: white; }
  .topnav a:hover { background-color: #ddd; color: black; }

  .dropdown-container {
    position: relative;
    display: inline-block;
  }

  .menu5r {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    background: rgba(0, 0, 0, 0.9);
    border-radius: 0 0 12px 12px;
    padding: 10px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    z-index: 5000;
    min-width: 180px;
  }

  .menu5r button {
    display: block;
    width: 100%;
    background: none;
    border: none;
    color: white;
    padding: 12px 20px;
    text-align: left;
    font-size: 16px;
    cursor: pointer;
    border-radius: 8px;
    white-space: nowrap;
  }

  .menu5r button:hover {
    background: #312abd;
  }

  .content {
    display: none;
    padding: 20px;
  }
  .content.active { display: block; }

  .video-wrapper {
    position: relative;
    padding-bottom: 56.25%;
    height: 0;
    max-width: 900px;
    margin-top: 20px;
  }
  .video-wrapper video {
    position: absolute;
    width: 100%;
    height: 100%;
  }

  .file-item { display: block; margin-bottom: 5px; color: #00ff00; text-decoration: none; }
  .file-item:hover { text-decoration: underline; }

  .modal {
    display: none;
    position: fixed;
    z-index: 6000;
    left: 0; top: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.8);
  }

  .modal-content {
    background: white;
    color: black;
    padding: 30px;
    width: 300px;
    margin: 15% auto;
    text-align: center;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    position: relative;
  }

  .modal-content input { padding: 10px; width: 80%; margin-bottom: 10px; border-radius:5px; border:1px solid #ccc; }
  .modal-content button { padding:10px 20px; margin:5px; border:none; border-radius:5px; background:#F54927; color:white; font-weight:bold; cursor:pointer; }

  @media(max-width:768px){
    .topnav{ flex-direction: column; overflow: visible; }
    .topnav a{ font-size:18px; padding:16px; width: 100%; box-sizing: border-box; }
    .dropdown-container { width: 100%; }
    .menu5r { position: static; width: 100%; box-sizing: border-box; border-radius: 0; }
  }
/* Snake J√°t√©k st√≠lusai */
#snake-canvas {
  border: 5px solid #04AA6D;
  background-color: #000;
  display: block;
  margin: 20px auto;
  box-shadow: 0 0 20px #04AA6D;
}

.game-info {
  text-align: center;
  font-size: 24px;
  margin-bottom: 10px;
}

.reset-btn {
  display: block;
  margin: 10px auto;
  padding: 10px 20px;
  background-color: #04AA6D;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 18px;
}
  
</style>
</head>
<body>

<div class="topnav">
  <a onclick="showContent('learazasok')" id="learazasokLink" class="active">Le√°raz√°sok</a>
  <a onclick="showContent('hirek')" id="hirekLink">H√≠rek</a>
  <a onclick="showContent('vibercsoportok')" id="vibercsoportokLink">Viber csoportok</a>
  <a onclick="showContent('cardok')" id="cardokLink">Cardok</a>
  <a href="#snake" onclick="showContent('snake'); initSnake();" id="jatekLink">Snake</a>


  <div class="dropdown-container">
    <a onclick="toggle5rMenu()" id="otrLink">5.r ‚ñæ</a>
    <div id="menu5r" class="menu5r">
      <button onclick="openTestProtected()">‚ñ∂Ô∏è 5.r toube</button>
      <button onclick="openMoziProtected()">üé¨ Mozi</button>
    </div>
  </div>
</div>

<div id="learazasok" class="content active">
  <h2>√údv√∂zli a Caca Kft.<br>Most caca cardra 25% kedvezm√©ny!<br>Ez√©rt csak 3 √ºveg lesz janu√°rban!</h2>
  <div class="video-wrapper">
    <video controls>
      <source src="https://marcell.qzz.io/cacaudv.mp4" type="video/mp4">
      A b√∂ng√©sz≈ë nem t√°mogatja a vide√≥ lej√°tsz√°st.
    </video>
  </div>
</div>

<div id="hirek" class="content">
  <h2>H√≠rek:</h2>
  <p>Lott√≥z√≥: inn√©t mozijegyet √©s valamikor nagyon j√≥ cuccokat is lehet nyerni!<br>Tov√°bbi h√≠reink√©rt olvass√°k el Breakingnews! √∫js√°gunkat.</p>
  <p style="margin-top:50px;">Fenntart√≥: Stefk√≥ Soma √©s Tettamanti Marcell <br>Email: tettamantimarcell@gmail.com <br>Tel.: +36 30 790 3409</p>
</div>

<div id="vibercsoportok" class="content">
  <h2>Viber csoport</h2>
  <a href="https://invite.viber.com/?g2=AQAsPNwakIHg%2BVXE9FrFTDgbD6Hs%2BC5saVTbiIJJx%2BgNaCuY955QP%2BuoN7T9veGx"
     target="_blank" style="display:inline-block; padding:15px 25px; background:#7360f2; color:white; text-decoration:none; border-radius:8px; font-size:18px; margin-top:10px;">
      Csatlakoz√°s a Viber csoporthoz
  </a>
</div>



  
<div id="cardok" class="content">
  <h2>Cacacard 3 palack/h√≥</h2>
  <img src="caca club card.jpg" alt="caca card" width="250">
  <img src="lotozo.jpg" alt="lottozo" width="250">
</div>

<div id="mozi" class="content">
  <h2>Mozi - V√°s√°roljon jegyet online!</h2>
  <p>Itt hamarosan el√©rhet≈ëek lesznek a leg√∫jabb filmek.</p>
</div>

<div id="moziModal" class="modal">
  <div class="modal-content">
    <h2>Mozi k√≥d</h2>
    <input type="password" id="moziCode" placeholder="Add meg a k√≥dot" onkeydown="if(event.key==='Enter') checkMoziCode()">
    <br><br>
    <button onclick="checkMoziCode()">Bel√©p√©s</button>
    <button onclick="closeMozi()">M√©gse</button>
    <p id="moziError" style="color:red;"></p>
  </div>
</div>

<div id="test" class="content">
  <img src="https://raw.githubusercontent.com/cacacrosoft/cacacrosoft.github.io/main/Slide2.jpg" style="width:200px;">
  <h2>√údv√∂zli az 5.r toube!</h2>
  <input type="text" id="searchInput" placeholder="Keres√©s a vide√≥k k√∂z√∂tt..." onkeyup="filterFiles()" style="padding:6px; width:50%; max-width:200px; border-radius:6px;">
  <a href="https://docs.google.com/document/d/1uj66DKMbP0QW1asK968pAYhCtUSDHBqolRVgQgJKuWI/edit?usp=sharing" target="_blank" style="display:inline-block; padding:5px 10px; background:#138a0f; color:white; border-radius:8px; text-decoration:none;">Seg√≠ts√©g</a>
  <div id="fileListContainer">
    <h3>El√©rhet≈ë vide√≥k a szerveren:</h3>
    <div id="dynamicFileList">Bet√∂lt√©s...</div>
  </div>
</div>



<div id="testModal" class="modal">
  <div class="modal-content">
    <h2>K√≥d sz√ºks√©ges</h2>
    <input type="password" id="testCode" placeholder="√çrd ide!" onkeydown="if(event.key==='Enter') checkTestCode()">
    <br><br>
    <button onclick="checkTestCode()">Ellen≈ëz√©s</button>
    <button onclick="closeTest()">Pr√≥b√°lkoz√°s k√©s≈ëbb</button>
    <p id="testError" style="color:red;"></p>
  </div>
</div>

  

  <div id="jatek" class="content">
  <h2>Snake</h2>
  <div class="game-info">Pontsz√°m: <span id="scoreVal">0</span></div>
  <canvas id="snake-canvas" width="400" height="400"></canvas>
  <button class="reset-btn" onclick="initSnake()">New Game</button>
  <p style="text-align:center;">Ir√°ny√≠t√°s: Nyilak a billenty≈±zeten</p>
  
  
<script>
const TEST_CODE="caca123";
const MOZI_CODE="caca123";
const serverUrl="https://marcell.qzz.io/";

function showContent(sectionId){
  document.querySelectorAll('.content').forEach(c=>c.classList.remove('active'));
  document.querySelectorAll('.topnav a').forEach(l=>l.classList.remove('active'));
  document.getElementById(sectionId).classList.add('active');
  const link = document.getElementById(sectionId+'Link');
  if(link) link.classList.add('active');
  document.getElementById("menu5r").style.display = "none";
}

function toggle5rMenu() {
  const menu = document.getElementById("menu5r");
  menu.style.display = (menu.style.display === "block") ? "none" : "block";
}

function openTestProtected(){ 
  document.getElementById("menu5r").style.display = "none";
  document.getElementById("testModal").style.display="block"; 
  setTimeout(()=>document.getElementById("testCode").focus(),100);
}
function closeTest(){ document.getElementById("testModal").style.display="none"; document.getElementById("testCode").value=""; document.getElementById("testError").innerText="";}
function checkTestCode(){
  const input=document.getElementById("testCode").value;
  if(input===TEST_CODE){closeTest(); showContent('test'); loadFilesFromServer();}
  else document.getElementById("testError").innerText="Hib√°s k√≥d";
}

function openMoziProtected(){
  document.getElementById("menu5r").style.display = "none";
  document.getElementById("moziModal").style.display="block"; 
  setTimeout(()=>document.getElementById("moziCode").focus(),100);
}
function closeMozi(){document.getElementById("moziModal").style.display="none"; document.getElementById("moziCode").value=""; document.getElementById("moziError").innerText="";}
function checkMoziCode(){const input=document.getElementById("moziCode").value; if(input===MOZI_CODE){closeMozi(); showContent('mozi');} else document.getElementById("moziError").innerText="Hib√°s k√≥d!";}

async function loadFilesFromServer() {
  const listElement = document.getElementById("dynamicFileList");
  listElement.innerHTML = "Bet√∂lt√©s...";
  const baseUrl = serverUrl.endsWith('/') ? serverUrl : serverUrl + '/';
  try {
    const response = await fetch(baseUrl, { mode: 'cors' });
    if (!response.ok) throw new Error('H√°l√≥zati hiba');
    const files = await response.json();
    listElement.innerHTML = "";
    let count = 0;
    files.forEach(file => {
      const fileName = file.name;
      if (!fileName.startsWith('.')) {
        const fullUrl = baseUrl + fileName;
        const a = document.createElement('a');
        a.href = fullUrl;
        a.className = 'file-item';
        a.target = '_blank';
        a.innerText = (file.type === 'directory' ? 'üìÅ ' : '‚ñ∂Ô∏è ') + fileName;
        listElement.appendChild(a);
        count++;
      }
    });
    if (count === 0) listElement.innerHTML = "Nem tal√°lhat√≥k f√°jlok.";
  } catch (e) {
    listElement.innerHTML = `<p>Szerverhiba.</p>`;
  }
}

function filterFiles(){
  let input=document.getElementById("searchInput").value.toLowerCase();
  document.querySelectorAll(".file-item").forEach(item=>item.style.display=item.innerText.toLowerCase().includes(input)?"block":"none");
}

window.onclick=function(event){
  if(event.target==document.getElementById("testModal")) closeTest();
  if(event.target==document.getElementById("moziModal")) closeMozi();
  const menu = document.getElementById("menu5r");
  const btn = document.getElementById("otrLink");
  if (menu.style.display === "block" && event.target !== btn && !menu.contains(event.target)) {
    menu.style.display = "none";
  }
}

  // --- SNAKE J√ÅT√âK LOGIKA ---
let canvas = document.getElementById("snake-canvas");
let ctx = canvas.getContext("2d");
let gameInterval;
let box = 20;
let snake, food, d, score;

function initSnake() {
    clearInterval(gameInterval);
    d = null;
    score = 0;
    document.getElementById("scoreVal").innerText = score;
    snake = [{ x: 9 * box, y: 10 * box }];
    food = {
        x: Math.floor(Math.random() * 19 + 1) * box,
        y: Math.floor(Math.random() * 19 + 1) * box
    };
    gameInterval = setInterval(draw, 120);
}

document.addEventListener("keydown", direction);
function direction(event) {
    if(event.keyCode == 37 && d != "RIGHT") d = "LEFT";
    else if(event.keyCode == 38 && d != "DOWN") d = "UP";
    else if(event.keyCode == 39 && d != "LEFT") d = "RIGHT";
    else if(event.keyCode == 40 && d != "UP") d = "DOWN";
}

function collision(head, array) {
    for(let i = 0; i < array.length; i++) {
        if(head.x == array[i].x && head.y == array[i].y) return true;
    }
    return false;
}

function draw() {
    ctx.fillStyle = "black";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    for(let i = 0; i < snake.length; i++) {
        ctx.fillStyle = (i == 0) ? "#04AA6D" : "white";
        ctx.fillRect(snake[i].x, snake[i].y, box, box);
        ctx.strokeStyle = "black";
        ctx.strokeRect(snake[i].x, snake[i].y, box, box);
    }

    ctx.fillStyle = "red";
    ctx.fillRect(food.x, food.y, box, box);

    let snakeX = snake[0].x;
    let snakeY = snake[0].y;

    if( d == "LEFT") snakeX -= box;
    if( d == "UP") snakeY -= box;
    if( d == "RIGHT") snakeX += box;
    if( d == "DOWN") snakeY += box;

    if(snakeX == food.x && snakeY == food.y) {
        score++;
        document.getElementById("scoreVal").innerText = score;
        food = {
            x: Math.floor(Math.random() * 19 + 1) * box,
            y: Math.floor(Math.random() * 19 + 1) * box
        };
    } else {
        snake.pop();
    }

    let newHead = { x: snakeX, y: snakeY };

    if(snakeX < 0 || snakeX >= canvas.width || snakeY < 0 || snakeY >= canvas.height || collision(newHead, snake)) {
        clearInterval(gameInterval);
        alert("Game Over Pontsz√°mod: " + score);
    }
    snake.unshift(newHead);
}                                                         


  
</script>
</body>
</html>
